# Настройка автоматического подключения к MT5

## Автоматическое подключение к уже открытому MT5 терминалу

### 1. **Автоматический режим (рекомендуется)**

Приложение автоматически подключится к уже открытому MT5 терминалу:

1. **Откройте MetaTrader 5** на Windows
2. **Войдите в свой аккаунт** в MT5
3. **Запустите приложение** - оно автоматически подключится к открытому MT5

**Настройки в `data/config.json`:**
```json
"mt5": {
    "path": "C:\\Program Files\\MetaTrader 5\\terminal64.exe",
    "login": "",
    "password": "",
    "server": ""
}
```

### 2. **Ручной режим (если автоматический не работает)**

Если автоматическое подключение не работает, укажите данные для входа:

```json
"mt5": {
    "path": "C:\\Program Files\\MetaTrader 5\\terminal64.exe", 
    "login": "ВАШ_ЛОГИН",
    "password": "ВАШ_ПАРОЛЬ",
    "server": "ВАШ_СЕРВЕР"
}
```

### 3. **Режимы работы приложения:**

#### **Автоматический режим (пустые данные):**
- Подключается к уже открытому MT5
- Использует активный аккаунт в MT5
- Не требует ввода паролей

#### **Локальный режим (с данными для входа):**
- Автоматически входит в MT5 с указанными данными
- Подходит если MT5 не открыт

#### **Flask API режим (macOS/Linux):**
- Подключается через Flask сервер на Windows
- Требует запущенный Flask сервер

#### **Демо-режим:**
- Работает без реального MT5
- Использует демо-данные

### 4. **Проверка подключения:**

После запуска в логах должно появиться:
- `✅ MT5 автоматически подключен` - автоматический режим
- `✅ MT5 connected to account XXXXX` - успешное подключение
- `⚠️ MT5 не подключен` - нужно проверить настройки

### 5. **Устранение проблем:**

#### **"MT5 недоступен":**
- Убедитесь, что MT5 установлен на Windows
- Проверьте, что MT5 запущен и в него войдены

#### **"Нет активного аккаунта":**
- Войдите в аккаунт в MT5 терминале
- Убедитесь, что аккаунт активен

#### **"Flask сервер недоступен":**
- Запустите Flask сервер на Windows
- Проверьте IP адрес в настройках

### 6. **Безопасность:**

⚠️ **ВАЖНО:** 
- При автоматическом режиме не нужно указывать пароли
- Файл `data/config.json` добавлен в `.gitignore`
- Используйте `data/config_example.json` для примера

### 7. **Преимущества автоматического режима:**

✅ **Простота:** Не нужно вводить пароли
✅ **Безопасность:** Пароли не хранятся в конфиге
✅ **Удобство:** Работает с уже открытым MT5
✅ **Гибкость:** Можно переключаться между аккаунтами в MT5 